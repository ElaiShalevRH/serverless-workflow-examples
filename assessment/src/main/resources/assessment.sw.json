{
    "id": "assessment",
    "version": "1.0",
    "specVersion": "0.8",
    "name": "Assessment Workflow example",
    "description": "An example of assessment workflow",
    "start": "Assessment",
    "dataInputSchema" : "schema/input-schema.json",
    "extensions": [
        {
            "extensionid": "workflow-output-schema",
            "outputSchema": "schema/workflow-options.json"
        }
    ],
    "functions": [
        {
            "name": "wfCollectionFun",
            "operation": "rest:get:http://localhost:3005/workflowoptions?repo={repositoryUrl}",
            "type": "custom"
        },
        {
            "name": "debug",
            "type": "custom",
            "operation": "sysout"
        }
    ],
    "states": [
        {
            "name": "Assessment",
            "type": "operation",
            "actions": [
                {
                    "name": "getWfCollection",
                    "functionRef": {
                        "refName": "wfCollectionFun",
                        "arguments": {
                            "repositoryUrl": ".repositoryUrl"
                        }
                    },
                    "actionDataFilter": {
                        "toStateData" : ".wfCollections"
                     }
                }
            ],
            "transition": "PrintResult"
        },
        {
            "name": "PrintResult",
            "type": "operation",
            "stateDataFilter": {
            "output": "{wfOptions: .wfCollections}"
            },
            "actions": [
                {
                    "name": "printAction",
                    "functionRef": {
                        "refName": "debug",
                        "arguments": {
                            "message": ".wfOptions"
                        }
                    }
                }
            ],
            "end": true
        }
    ]
}